<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Alma de Oro - Joyas Exclusivas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Alma de Oro - Joyas de lujo, anillos, collares, aretes y más.">

  <!-- Favicon -->
  <link href="img/favicon.ico" rel="icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

  <!-- CSS Libraries -->
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

  <!-- Bootstrap Stylesheet -->
  <link href="css/style.css" rel="stylesheet">

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
    .btn-gold {
      background-color: #d4af37 !important;
      color: #fff !important;
      border: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .btn-gold:hover {
      background-color: #b7950b !important;
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(212, 175, 55, 0.4);
    }
    .product-card {
      border: 1px solid #eee;
      border-radius: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    }
    .product-price {
      color: #d4af37;
      font-weight: 700;
    }
    footer {
      background-color: #000;
      color: #d4af37;
    }
    footer a {
      color: #fff;
    }
    footer a:hover {
      color: #d4af37;
    }
    .category-title {
      color: #d4af37 !important;
      font-weight: bold;
      text-transform: uppercase;
    }
  </style>
</head>

<body>

  <!-- 🔸 Logo -->
  <div class="container-fluid bg-light py-3 px-xl-5 d-none d-lg-flex align-items-center">
    <div class="col-lg-4">
      <a href="index.html" class="text-decoration-none">
        <h1 class="m-0" style="font-weight:700;">
          <span style="color:#D4AF37">Alma</span> <span style="color:#000">de</span> <span style="color:#D4AF37">Oro</span>
        </h1>
      </a>
    </div>
    <div class="col-lg-4 text-center">
      <form>
        <div class="input-group">
          <input type="text" class="form-control border-dark" placeholder="Buscar joyas...">
          <div class="input-group-append">
            <button class="btn btn-gold">Buscar</button>
          </div>
        </div>
      </form>
    </div>
    <div class="col-lg-4 text-right">
      <div id="account-menu" class="btn-group"></div>
    </div>
  </div>

  <!-- 🔸 Navbar -->
  <div class="container-fluid px-0">
  <div class="row no-gutters align-items-center bg-dark">
    <!-- Categorías -->
   <div class="col-lg-3 d-none d-lg-block p-0">
  <div class="dropdown position-relative">
    <a class="btn d-flex align-items-center justify-content-between w-100 px-4 py-3"
       data-toggle="collapse"
       href="#navbar-vertical"
       role="button"
       aria-expanded="false"
       aria-controls="navbar-vertical"
       style="background-color:#2c2f32; border:none;">
      <h6 class="m-0 text-uppercase" style="color:#d4af37; font-weight:bold; letter-spacing:0.5px;">
        Categorías
      </h6>
      <i class="fa fa-angle-down" style="color:#d4af37;"></i>
    </a>

    <div id="navbar-vertical"
         class="collapse position-absolute w-100"
         style="
           top:65px;
           left:0;
           background-color:#2c2f32;
           z-index:9999;
           border-top:2px solid #d4af37;
           border-radius:0 0 6px 6px;
           box-shadow:0 4px 15px rgba(212, 175, 55, 0.25);
           transition:all 0.3s ease;">
      <div class="navbar-nav w-100 py-2 px-3">
        <a href="#" class="nav-item nav-link text-light py-2" style="transition:all 0.3s ease;">Anillos</a>
        <a href="#" class="nav-item nav-link text-light py-2" style="transition:all 0.3s ease;">Collares</a>
        <a href="#" class="nav-item nav-link text-light py-2" style="transition:all 0.3s ease;">Aretes</a>
        <a href="#" class="nav-item nav-link text-light py-2" style="transition:all 0.3s ease;">Pulseras</a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Efecto hover en links del menú */
  #navbar-vertical a.nav-link:hover {
    color: #d4af37 !important;
    transform: translateX(4px);
  }

  /* Sombra al abrir el menú */
  #navbar-vertical.show {
    box-shadow: 0 8px 20px rgba(212, 175, 55, 0.4);
  }
</style>


    <!-- Navbar -->
    <div class="col-lg-9">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark py-3 px-4 mb-0">
        <a href="index.html" class="navbar-brand d-block d-lg-none text-gold" style="color:#d4af37;">Alma de Oro</a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
          <div class="navbar-nav mr-auto">
            <a href="index.html" class="nav-item nav-link active" style="color:#d4af37;">Home</a>
            <a href="shop.html" class="nav-item nav-link">Shop</a>
            <a href="shop-detail.html" class="nav-item nav-link">Shop Detail</a>
            <div class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
              <div class="dropdown-menu rounded-0 m-0">
                <a href="cart.html" class="dropdown-item">Shopping Cart</a>
                <a href="checkout.html" class="dropdown-item">Checkout</a>
              </div>
            </div>
            <a href="contact.html" class="nav-item nav-link">Contact</a>
          </div>

          <div class="navbar-nav ml-auto">
            <a href="#" class="btn px-0 text-light"><i class="fas fa-heart"></i></a>
            <a href="#" class="btn px-3 text-light"><i class="fas fa-shopping-cart"></i></a>
          </div>
        </div>
      </nav>
    </div>
  </div>
</div>


  <!-- 🔸 Carrusel -->
  <div class="container-fluid mb-3">
    <div class="row px-xl-5">
      <div class="col-lg-12">
        <div id="header-carousel" class="carousel slide carousel-fade mb-30" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#header-carousel" data-slide-to="0" class="active"></li>
            <li data-target="#header-carousel" data-slide-to="1"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active" style="height:450px;">
              <img class="w-100 h-100" src="img/joyas1.jpg" style="object-fit:cover;">
              <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                <h1 class="display-4 text-white mb-3">Joyas que cuentan historias</h1>
                <a href="shop.html" class="btn btn-gold py-2 px-4 mt-3">Explorar</a>
              </div>
            </div>
            <div class="carousel-item" style="height:450px;">
              <img class="w-100 h-100" src="img/joyas2.jpg" style="object-fit:cover;">
              <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                <h1 class="display-4 text-white mb-3">Lujo eterno, esencia dorada</h1>
                <a href="shop.html" class="btn btn-gold py-2 px-4 mt-3">Ver más</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 🔸 Beneficios -->
  <div class="container-fluid py-5">
    <div class="row px-xl-5 text-center">
      <div class="col-md-4">
        <i class="fa fa-shipping-fast fa-3x mb-3" style="color:#d4af37;"></i>
        <h5>Envío Gratis</h5>
        <p>En todos los pedidos a nivel nacional.</p>
      </div>
      <div class="col-md-4">
        <i class="fa fa-gem fa-3x mb-3" style="color:#d4af37;"></i>
        <h5>Garantía de Calidad</h5>
        <p>Joyas de oro y plata certificadas.</p>
      </div>
      <div class="col-md-4">
        <i class="fa fa-headset fa-3x mb-3" style="color:#d4af37;"></i>
        <h5>Atención Personalizada</h5>
        <p>Te acompañamos en cada compra.</p>
      </div>
    </div>
  </div>

  <!-- 🔸 Productos destacados -->
  <div class="container py-5">
    <h2 class="text-center mb-5" style="color:#d4af37;">Joyas Destacadas</h2>
    <div class="row">
      <div class="col-md-3 mb-4">
        <div class="product-card text-center p-3">
          <img src="img/anillo1.jpg" class="img-fluid mb-3" alt="Anillo de Oro">
          <h6>Anillo de Oro 24K</h6>
          <p class="product-price">$520.000</p>
          <button class="btn btn-gold btn-sm">Agregar al carrito</button>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="product-card text-center p-3">
          <img src="img/collar1.jpg" class="img-fluid mb-3" alt="Collar de Oro">
          <h6>Collar con Dije de Diamante</h6>
          <p class="product-price">$1.200.000</p>
          <button class="btn btn-gold btn-sm">Agregar al carrito</button>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="product-card text-center p-3">
          <img src="img/aretes1.jpg" class="img-fluid mb-3" alt="Aretes">
          <h6>Aretes de Plata Italiana</h6>
          <p class="product-price">$280.000</p>
          <button class="btn btn-gold btn-sm">Agregar al carrito</button>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="product-card text-center p-3">
          <img src="img/pulsera1.jpg" class="img-fluid mb-3" alt="Pulsera">
          <h6>Pulsera de Oro Rosa</h6>
          <p class="product-price">$390.000</p>
          <button class="btn btn-gold btn-sm">Agregar al carrito</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 🔸 Footer -->
  <footer class="text-center text-lg-start pt-5 mt-5">
    <div class="container text-md-left">
      <div class="row text-md-left">
        <div class="col-md-4">
          <h5 class="text-uppercase mb-4">Alma de Oro</h5>
          <p>Joyas exclusivas hechas con pasión y elegancia. Tu brillo empieza aquí.</p>
        </div>
        <div class="col-md-4">
          <h5 class="text-uppercase mb-4">Enlaces</h5>
          <ul class="list-unstyled">
            <li><a href="shop.html">Tienda</a></li>
            <li><a href="contact.html">Contacto</a></li>
            <li><a href="perfil.html">Mi Perfil</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <h5 class="text-uppercase mb-4">Síguenos</h5>
          <a href="#" class="btn btn-gold btn-sm m-1"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="btn btn-gold btn-sm m-1"><i class="fab fa-instagram"></i></a>
          <a href="#" class="btn btn-gold btn-sm m-1"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>
    </div>
    <div class="text-center py-3 border-top mt-4">
      © 2025 <strong>Alma de Oro</strong> — Todos los derechos reservados.
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
  <script src="lib/easing/easing.min.js"></script>
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="js/main.js"></script>

  <!-- 🔸 Script de sesión -->
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      const navbar = document.getElementById("account-menu");
      const token = localStorage.getItem("accessToken");

      if (!token) {
        navbar.innerHTML = `
          <button type="button" class="btn btn-sm btn-light dropdown-toggle" data-toggle="dropdown">
            Mi Cuenta
          </button>
          <div class="dropdown-menu dropdown-menu-right">
            <a class="dropdown-item" href="sesion.html">Iniciar sesión</a>
            <a class="dropdown-item" href="register.html">Registrarse</a>
          </div>`;
        return;
      }

      try {
        const response = await fetch("http://127.0.0.1:8000/api/users/me/", {
          headers: { Authorization: `Bearer ${token}` },
        });

        if (!response.ok) throw new Error("Token inválido");

        const user = await response.json();
        navbar.innerHTML = `
          <button type="button" class="btn btn-sm btn-light dropdown-toggle" data-toggle="dropdown">
            <i class="fas fa-user-circle"></i> ${user.username}
          </button>
          <div class="dropdown-menu dropdown-menu-right">
            <a class="dropdown-item" href="perfil.html">Mi Perfil</a>
            <a class="dropdown-item text-danger" href="#" id="logout">Cerrar sesión</a>
          </div>`;

        document.getElementById("logout").addEventListener("click", () => {
          Swal.fire({
            icon: "question",
            title: "¿Cerrar sesión?",
            showCancelButton: true,
            confirmButtonText: "Sí, salir",
            cancelButtonText: "Cancelar",
            confirmButtonColor: "#e74c3c",
          }).then((result) => {
            if (result.isConfirmed) {
              localStorage.removeItem("accessToken");
              localStorage.removeItem("refreshToken");
              Swal.fire({
                icon: "success",
                title: "Sesión cerrada",
                text: "Vuelve pronto ✨",
                confirmButtonColor: "#d4af37",
              }).then(() => (window.location.href = "index.html"));
            }
          });
        });
      } catch (error) {
        console.error("Error verificando usuario:", error);
        localStorage.removeItem("accessToken");
        localStorage.removeItem("refreshToken");
      }
    });
  </script>
</body>
</html>



