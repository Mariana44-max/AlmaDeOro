<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="utf-8">
  <title>Detalle del Producto - Alma de Oro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="img/favicon.ico" rel="icon">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            gold: { DEFAULT: '#d4af37', light: '#f4d03f', dark: '#b8962e' },
            dark: { DEFAULT: '#0a0a0a', card: '#151515', section: '#1a1a1a', border: '#2a2a2a' }
          },
          fontFamily: {
            serif: ['Playfair Display', 'serif'],
            sans: ['Roboto', 'sans-serif']
          }
        }
      }
    }
  </script>
</head>
<body class="bg-dark font-sans text-white">

  <!-- NAVBAR -->
  <header class="sticky top-0 z-50 bg-dark/95 backdrop-blur-xl border-b border-gold/30">
    <div class="max-w-7xl mx-auto px-6">
      <div class="flex items-center justify-between gap-5 py-4">
        <a href="index.html" class="font-serif text-2xl font-bold uppercase tracking-wide hover:scale-105 transition-transform">
          <span class="text-gold">Alma</span><span class="text-white font-light"> de </span><span class="text-gold">Oro</span>
        </a>
        <nav class="hidden md:flex items-center gap-8">
          <a href="index.html" class="relative text-sm font-medium uppercase tracking-wide text-white hover:text-gold transition-colors group">
            Inicio<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gold transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="shop.html" class="relative text-sm font-medium uppercase tracking-wide text-white hover:text-gold transition-colors group">
            Tienda<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gold transition-all duration-300 group-hover:w-full"></span>
          </a>
        </nav>
        <div class="flex items-center gap-5">
          <div id="account-menu"></div>
          <a href="carrito.html" class="relative text-gold text-xl hover:scale-110 transition-transform">
            <i class="fas fa-shopping-cart"></i>
            <span id="cart-count" class="absolute -top-2 -right-2 bg-gold text-black text-xs font-bold rounded-full px-1.5 py-0.5 min-w-[18px] text-center">0</span>
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- BREADCRUMB -->
  <section class="py-6 bg-dark-section border-b border-dark-border">
    <div class="max-w-7xl mx-auto px-6">
      <div class="flex items-center gap-2 text-sm text-gray-400">
        <a href="index.html" class="hover:text-gold transition-colors">Inicio</a>
        <i class="fas fa-chevron-right text-xs"></i>
        <a href="shop.html" class="hover:text-gold transition-colors">Tienda</a>
        <i class="fas fa-chevron-right text-xs"></i>
        <span id="breadcrumb-product" class="text-gold">Producto</span>
      </div>
    </div>
  </section>

  <!-- PRODUCT DETAIL -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 mb-20">

        <!-- GALLERY -->
        <div class="space-y-6 lg:sticky lg:top-28 lg:self-start">
          <div class="relative h-[600px] bg-dark-card border border-dark-border rounded-3xl overflow-hidden group">
            <img id="main-image" src="" alt="Producto" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700">
            <span id="product-badge" class="absolute top-6 right-6 bg-gold text-black px-5 py-2 rounded-full text-sm font-bold uppercase shadow-lg">Nuevo</span>
          </div>
          <div id="thumbnails-container" class="grid grid-cols-4 gap-4"></div>
        </div>

        <!-- INFO -->
        <div class="space-y-8">
          <div class="space-y-4">
            <p id="product-category" class="text-gold text-sm font-bold uppercase tracking-widest">Categoría</p>
            <h1 id="product-title" class="font-serif text-5xl font-bold text-white leading-tight">Producto</h1>
            <div class="flex items-center gap-4">
              <div class="flex text-gold text-lg">
                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
              </div>
              <span class="text-gray-400 text-sm">(50 reseñas)</span>
            </div>
          </div>

          <p id="product-price" class="text-5xl font-bold text-gold">$0</p>
          <p id="product-description" class="text-gray-300 text-lg leading-relaxed">Descripción del producto</p>

          <div class="border-t border-b border-dark-border py-8 space-y-4">
            <h3 class="font-serif text-xl font-bold text-gold mb-4">Especificaciones</h3>
            <div class="grid grid-cols-2 gap-4">
              <div class="flex justify-between py-3 border-b border-dark-border/50">
                <span class="text-gray-400">Material:</span>
                <span id="spec-material" class="text-white font-semibold">-</span>
              </div>
              <div class="flex justify-between py-3 border-b border-dark-border/50">
                <span class="text-gray-400">Peso:</span>
                <span id="spec-weight" class="text-white font-semibold">-</span>
              </div>
              <div class="flex justify-between py-3 border-b border-dark-border/50">
                <span class="text-gray-400">Talla:</span>
                <span id="spec-size" class="text-white font-semibold">-</span>
              </div>
              <div class="flex justify-between py-3 border-b border-dark-border/50">
                <span class="text-gray-400">Stock:</span>
                <span id="spec-stock" class="text-green-400 font-semibold">En stock</span>
              </div>
            </div>
          </div>

          <div class="flex items-center gap-6">
            <div class="space-y-2">
              <label class="block text-sm text-gray-400 uppercase tracking-wider">Cantidad</label>
              <div class="flex items-center border border-dark-border rounded-xl overflow-hidden">
                <button id="qty-minus" class="w-12 h-12 bg-dark-card hover:bg-gold hover:text-black transition-colors flex items-center justify-center">
                  <i class="fas fa-minus"></i>
                </button>
                <input id="qty-input" type="number" value="1" min="1" max="10" class="w-16 h-12 bg-dark border-l border-r border-dark-border text-center text-white font-bold focus:outline-none">
                <button id="qty-plus" class="w-12 h-12 bg-dark-card hover:bg-gold hover:text-black transition-colors flex items-center justify-center">
                  <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="flex gap-4">
            <button id="add-to-cart-btn" class="flex-1 bg-gold text-black py-5 px-8 rounded-full font-bold text-base uppercase tracking-wide hover:bg-gold-light hover:-translate-y-1 hover:shadow-2xl hover:shadow-gold/50 transition-all duration-300 flex items-center justify-center gap-3">
              <i class="fas fa-shopping-cart"></i> Añadir al Carrito
            </button>
            <button class="w-16 h-16 bg-dark-card border border-dark-border rounded-full text-white hover:border-gold hover:text-gold transition-all flex items-center justify-center">
              <i class="fas fa-heart text-xl"></i>
            </button>
          </div>

          <div class="grid grid-cols-3 gap-4 pt-8">
            <div class="flex items-start gap-3 p-4 bg-dark-card border border-dark-border rounded-xl">
              <i class="fas fa-shipping-fast text-2xl text-gold mt-1"></i>
              <div>
                <h4 class="font-bold text-sm mb-1">Envío Gratis</h4>
                <p class="text-xs text-gray-400">En compras superiores a $200.000</p>
              </div>
            </div>
            <div class="flex items-start gap-3 p-4 bg-dark-card border border-dark-border rounded-xl">
              <i class="fas fa-shield-alt text-2xl text-gold mt-1"></i>
              <div>
                <h4 class="font-bold text-sm mb-1">Garantía</h4>
                <p class="text-xs text-gray-400">1 año de garantía oficial</p>
              </div>
            </div>
            <div class="flex items-start gap-3 p-4 bg-dark-card border border-dark-border rounded-xl">
              <i class="fas fa-undo text-2xl text-gold mt-1"></i>
              <div>
                <h4 class="font-bold text-sm mb-1">Devoluciones</h4>
                <p class="text-xs text-gray-400">30 días para devolución</p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-dark border-t border-dark-border py-16">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12">
        <div class="space-y-5">
          <h4 class="font-serif text-xl font-bold text-gold">Alma de Oro</h4>
          <p class="text-gray-400 leading-relaxed">Creamos joyas únicas que reflejan elegancia y sofisticación.</p>
          <div class="flex gap-4">
            <a href="#" class="w-10 h-10 bg-dark-card border border-dark-border rounded-full flex items-center justify-center text-gold hover:bg-gold hover:text-black hover:-translate-y-1 transition-all"><i class="fab fa-instagram"></i></a>
            <a href="#" class="w-10 h-10 bg-dark-card border border-dark-border rounded-full flex items-center justify-center text-gold hover:bg-gold hover:text-black hover:-translate-y-1 transition-all"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="w-10 h-10 bg-dark-card border border-dark-border rounded-full flex items-center justify-center text-gold hover:bg-gold hover:text-black hover:-translate-y-1 transition-all"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>
        <div class="space-y-5">
          <h4 class="font-serif text-xl font-bold text-gold">Enlaces</h4>
          <div class="space-y-3">
            <a href="index.html" class="block text-gray-400 hover:text-gold transition-colors">Inicio</a>
            <a href="shop.html" class="block text-gray-400 hover:text-gold transition-colors">Tienda</a>
          </div>
        </div>
        <div class="space-y-5">
          <h4 class="font-serif text-xl font-bold text-gold">Categorías</h4>
          <div class="space-y-3">
            <a href="shop.html" class="block text-gray-400 hover:text-gold transition-colors">Anillos</a>
            <a href="shop.html" class="block text-gray-400 hover:text-gold transition-colors">Collares</a>
            <a href="shop.html" class="block text-gray-400 hover:text-gold transition-colors">Pulseras</a>
          </div>
        </div>
        <div class="space-y-5">
          <h4 class="font-serif text-xl font-bold text-gold">Contacto</h4>
          <div class="space-y-3 text-gray-400">
            <p><i class="fas fa-phone mr-3 text-gold"></i>+57 300 123 4567</p>
            <p><i class="fas fa-envelope mr-3 text-gold"></i>info@almadeoro.com</p>
          </div>
        </div>
      </div>
      <div class="pt-8 border-t border-dark-border text-center">
        <p class="text-gray-400">&copy; 2025 <a href="index.html" class="text-gold hover:text-gold-light transition-colors">Alma de Oro</a>. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const productId = urlParams.get('id');
    const productsDB = {
      1: { id: 1, name: "Anillo Minimal", category: "Anillos", price: 150000, image: "img/Anillos/Minimal.png", badge: "Nuevo", description: "Diseño minimalista de oro 18k perfecto para el uso diario. Elegante y discreto, ideal para quienes buscan sofisticación sin exagerar.", material: "Oro 18k", weight: "2.8g", size: "Ajustable", stock: 15 },
      2: { id: 2, name: "Anillo Royal", category: "Anillos", price: 180000, image: "img/Anillos/Royal.png", badge: "Popular", description: "Pieza única de oro 18k diseñada para destacar tu elegancia en cada ocasión. Su diseño refinado lo convierte en el complemento perfecto.", material: "Oro 18k", weight: "3.5g", size: "Ajustable", stock: 8 },
      3: { id: 3, name: "Anillo Aurora Brillante", category: "Anillos", price: 220000, image: "img/Anillos/AuroraBrillante.png", badge: "", description: "Inspirado en los destellos de la aurora, este anillo captura la luz con elegancia y sofisticación absoluta.", material: "Oro 18k", weight: "3.2g", size: "Ajustable", stock: 10 },
      4: { id: 4, name: "Anillo Eterna Promesa", category: "Anillos", price: 280000, image: "img/Anillos/EternaPromesa.png", badge: "", description: "Símbolo de compromiso eterno, diseñado con detalles que celebran el amor verdadero y duradero.", material: "Oro 18k", weight: "4.2g", size: "Ajustable", stock: 6 },
      5: { id: 5, name: "Anillo Corazón Puro", category: "Anillos", price: 190000, image: "img/Anillos/CorazonPuro.png", badge: "", description: "Delicado diseño en forma de corazón que expresa amor y ternura en cada detalle.", material: "Oro 18k", weight: "3.0g", size: "Ajustable", stock: 12 },
      6: { id: 6, name: "Collar Minimal Glow", category: "Collares", price: 210000, image: "img/Collares/MinimalGlow.png", badge: "", description: "Collar minimalista que irradia un brillo sutil y refinado, perfecto para cualquier ocasión.", material: "Oro 14k", weight: "4.5g", size: "45cm", stock: 14 },
      7: { id: 7, name: "Collar Brillo Infinito", category: "Collares", price: 250000, image: "img/Collares/BrilloInfinto.png", badge: "Popular", description: "Collar con diseño exclusivo que captura la luz de manera espectacular. Su elegancia infinita lo hace perfecto para eventos especiales.", material: "Oro 14k", weight: "5.2g", size: "45cm", stock: 12 },
      8: { id: 8, name: "Collar Romance Puro", category: "Collares", price: 290000, image: "img/Collares/RomancePuro.png", badge: "", description: "Diseño romántico que captura la esencia del amor eterno con detalles delicados y sofisticados.", material: "Oro 14k", weight: "5.8g", size: "50cm", stock: 8 },
      9: { id: 9, name: "Collar Esencia Natural", category: "Collares", price: 270000, image: "img/Collares/EsenciaNatural.png", badge: "", description: "Inspirado en la naturaleza, este collar combina elegancia orgánica con diseño contemporáneo.", material: "Oro 14k", weight: "5.0g", size: "45cm", stock: 10 },
      10: { id: 10, name: "Collar Aurora de Amor", category: "Collares", price: 310000, image: "img/Collares/AuroraDeAmor.png", badge: "Exclusivo", description: "Pieza exclusiva que combina romance y brillo en un diseño único e inigualable.", material: "Oro 14k", weight: "6.2g", size: "50cm", stock: 5 },
      11: { id: 11, name: "Pulsera Romance Clásico", category: "Pulseras", price: 170000, image: "img/Pulseras/RomanceClasico.png", badge: "", description: "Diseño clásico que nunca pasa de moda. Elegante y versátil para cualquier momento.", material: "Oro 18k", weight: "3.8g", size: "18cm", stock: 16 },
      12: { id: 12, name: "Pulsera Vanguardia", category: "Pulseras", price: 200000, image: "img/Pulseras/Vanguardia.png", badge: "", description: "Diseño moderno y vanguardista que marca tendencia con un estilo único y audaz.", material: "Oro 18k", weight: "4.5g", size: "19cm", stock: 11 },
      13: { id: 13, name: "Pulsera Encanto Natural", category: "Pulseras", price: 190000, image: "img/Pulseras/EncantoNatural.png", badge: "", description: "Inspirada en la belleza natural, esta pulsera aporta un toque orgánico y sofisticado.", material: "Oro 18k", weight: "4.0g", size: "18cm", stock: 13 },
      14: { id: 14, name: "Pulsera Aurora Real", category: "Pulseras", price: 240000, image: "img/Pulseras/AuroraReal.png", badge: "", description: "Pulsera real con detalles brillantes que capturan la esencia de la realeza y elegancia.", material: "Oro 18k", weight: "5.2g", size: "19cm", stock: 7 },
      15: { id: 15, name: "Pulsera Lujo Minimalista", category: "Pulseras", price: 220000, image: "img/Pulseras/LujoMinimalista.png", badge: "Nuevo", description: "Pulsera delicada con diseño contemporáneo en oro de alta calidad. Combina lujo y minimalismo a la perfección.", material: "Oro 18k", weight: "4.1g", size: "18cm", stock: 10 },
      16: { id: 16, name: "Aretes Brillo Estelar", category: "Aretes", price: 160000, image: "img/Aretes/BrilloEstelar.png", badge: "", description: "Aretes que brillan como las estrellas, perfectos para iluminar cualquier look nocturno.", material: "Oro 18k", weight: "2.2g", size: "1.5cm", stock: 18 },
      17: { id: 17, name: "Aretes Luz de Luna", category: "Aretes", price: 180000, image: "img/Aretes/LuzDeLuna.png", badge: "", description: "Inspirados en la luz lunar, estos aretes aportan un brillo misterioso y elegante.", material: "Oro 18k", weight: "2.5g", size: "1.8cm", stock: 15 },
      18: { id: 18, name: "Aretes Flor Dorada", category: "Aretes", price: 195000, image: "img/Aretes/FlorDorada.png", badge: "Popular", description: "Diseño floral delicado que celebra la belleza natural con un toque de oro radiante.", material: "Oro 18k", weight: "2.8g", size: "2.0cm", stock: 12 },
      19: { id: 19, name: "Aretes Gotas de Oro", category: "Aretes", price: 210000, image: "img/Aretes/GotasDeOro.png", badge: "", description: "Elegantes aretes en forma de gota que capturan la luz con cada movimiento.", material: "Oro 18k", weight: "3.0g", size: "2.5cm", stock: 10 },
      20: { id: 20, name: "Aretes Aros Eternos", category: "Aretes", price: 170000, image: "img/Aretes/ArosEternos.png", badge: "", description: "Aros clásicos que simbolizan eternidad y elegancia atemporal en cada detalle.", material: "Oro 18k", weight: "2.0g", size: "3.0cm", stock: 20 },
      21: { id: 21, name: "Reloj Deportivo Lux", category: "Relojes", price: 450000, image: "img/Relojes/DeportivoLux.png", badge: "Premium", description: "Reloj deportivo de lujo con tecnología avanzada y diseño sofisticado para el hombre moderno.", material: "Acero Inoxidable y Oro", weight: "85g", size: "42mm", stock: 6 },
      22: { id: 22, name: "Reloj Clásico Dorado", category: "Relojes", price: 520000, image: "img/Relojes/ClasicoDorado.png", badge: "Exclusivo", description: "Reloj clásico en oro que combina tradición y elegancia en cada segundo que marca.", material: "Oro 18k", weight: "95g", size: "40mm", stock: 4 },
      23: { id: 23, name: "Reloj Royal Cronho", category: "Relojes", price: 600000, image: "img/Relojes/RoyalCronho.png", badge: "Lujo", description: "Pieza de relojería de lujo con cronógrafo y diseño real. La máxima expresión de sofisticación.", material: "Oro 18k y Diamantes", weight: "110g", size: "44mm", stock: 2 }
    };

    function loadProductDetails() {
      const product = productsDB[productId] || productsDB[1];
      document.getElementById('breadcrumb-product').textContent = product.name;
      document.getElementById('main-image').src = product.image;
      document.getElementById('product-category').textContent = product.category.toUpperCase();
      document.getElementById('product-title').textContent = product.name;
      document.getElementById('product-price').textContent = '$' + product.price.toLocaleString('es-CO');
      document.getElementById('product-description').textContent = product.description;
      document.getElementById('spec-material').textContent = product.material;
      document.getElementById('spec-weight').textContent = product.weight;
      document.getElementById('spec-size').textContent = product.size;
      document.getElementById('spec-stock').textContent = product.stock > 0 ? 'En stock' : 'Agotado';
      document.getElementById('product-badge').textContent = product.badge || 'Nuevo';

      const thumbnailsContainer = document.getElementById('thumbnails-container');
      for (let i = 0; i < 4; i++) {
        const thumb = document.createElement('div');
        thumb.className = 'h-32 bg-dark-card border-2 border-dark-border rounded-xl overflow-hidden cursor-pointer hover:border-gold transition-all' + (i === 0 ? ' border-gold' : '');
        thumb.innerHTML = '<img src="' + product.image + '" alt="Thumbnail" class="w-full h-full object-cover">';
        thumb.addEventListener('click', function() {
          document.querySelectorAll('#thumbnails-container > div').forEach(t => {
            t.className = 'h-32 bg-dark-card border-2 border-dark-border rounded-xl overflow-hidden cursor-pointer hover:border-gold transition-all';
          });
          this.classList.add('border-gold');
          document.getElementById('main-image').src = product.image;
        });
        thumbnailsContainer.appendChild(thumb);
      }
    }

    document.getElementById('qty-plus').addEventListener('click', () => {
      const input = document.getElementById('qty-input');
      if (parseInt(input.value) < parseInt(input.max)) input.value = parseInt(input.value) + 1;
    });

    document.getElementById('qty-minus').addEventListener('click', () => {
      const input = document.getElementById('qty-input');
      if (parseInt(input.value) > parseInt(input.min)) input.value = parseInt(input.value) - 1;
    });

    document.getElementById('add-to-cart-btn').addEventListener('click', () => {
      const product = productsDB[productId] || productsDB[1];
      const quantity = parseInt(document.getElementById('qty-input').value);
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const existingItem = cart.find(item => item.id == product.id);
      if (existingItem) existingItem.quantity = (existingItem.quantity || 1) + quantity;
      else cart.push({ ...product, quantity });
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      Swal.fire({ icon: 'success', title: '¡Producto agregado!', text: product.name + ' se añadió al carrito', background: '#0a0a0a', color: '#fff', confirmButtonColor: '#d4af37', timer: 2000, showConfirmButton: false });
    });

    async function setupUserMenu() {
      const menu = document.getElementById("account-menu");
      const token = localStorage.getItem("accessToken");
      if (!token) {
        menu.innerHTML = '<div class="relative group"><button class="text-sm font-medium uppercase tracking-wide text-white hover:text-gold transition-colors">Mi cuenta</button><div class="absolute top-full right-0 mt-3 w-48 bg-dark-card border border-dark-border rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 shadow-xl"><a href="sesion.html" class="block px-5 py-3 text-white hover:bg-gold hover:text-black transition-all hover:pl-7">Iniciar sesión</a><a href="register.html" class="block px-5 py-3 text-white hover:bg-gold hover:text-black transition-all hover:pl-7 rounded-b-lg">Registrarse</a></div></div>';
        return;
      }
      try {
        const res = await fetch("http://127.0.0.1:8000/api/users/me/", { headers: { Authorization: "Bearer " + token } });
        if (!res.ok) throw new Error();
        const user = await res.json();
        menu.innerHTML = '<div class="relative group"><button class="text-sm font-medium uppercase tracking-wide text-white hover:text-gold transition-colors flex items-center gap-2"><i class="fas fa-user-circle text-lg"></i> ' + user.username + '</button><div class="absolute top-full right-0 mt-3 w-48 bg-dark-card border border-dark-border rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 shadow-xl"><a href="perfil.html" class="block px-5 py-3 text-white hover:bg-gold hover:text-black transition-all hover:pl-7">Mi perfil</a><a href="#" id="logout" class="block px-5 py-3 text-white hover:bg-gold hover:text-black transition-all hover:pl-7 rounded-b-lg">Cerrar sesión</a></div></div>';
        document.getElementById("logout").addEventListener("click", (e) => {
          e.preventDefault();
          Swal.fire({ icon: "question", title: "¿Cerrar sesión?", showCancelButton: true, confirmButtonText: "Sí", background: "#0a0a0a", color: "#fff", confirmButtonColor: "#d4af37" }).then((r) => {
            if (r.isConfirmed) { localStorage.removeItem("accessToken"); localStorage.removeItem("refreshToken"); window.location.href = "index.html"; }
          });
        });
      } catch { localStorage.removeItem("accessToken"); localStorage.removeItem("refreshToken"); }
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const total = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
      document.getElementById('cart-count').textContent = total;
    }

    document.addEventListener('DOMContentLoaded', () => {
      loadProductDetails();
      setupUserMenu();
      updateCartCount();
    });
  </script>

</body>
</html>
